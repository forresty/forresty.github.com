
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Forrest Ye's Blog</title>
  <meta name="author" content="Forrest Ye">

  
  <meta name="description" content="German declared war on Russia. Afternoon swim. - April 2nd, 1914, Franz Kafka&#8217;s Diaries When you are seeking to understand the fundamental &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://forresty.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Forrest Ye's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12985731-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Forrest Ye's Blog</a></h1>
  
    <h2>Patiently waiting for the dots to connect themselves</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/hire">Hire Me</a></li>
  <li><a href="/about">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/08/hacker-news/">Hacker News</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-08T12:48:00+08:00" pubdate data-updated="true">Dec 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>German declared war on Russia. Afternoon swim. - April 2nd, 1914, <em>Franz Kafka&#8217;s Diaries</em></p></blockquote>

<p>When you are seeking to understand the fundamental logics and reasons of this world, sooner or later you&#8217;ll come to realize that daily trivial matters are of no importance at all.</p>

<p>Thus I abandoned a private experimental Hacker News iOS app roughly 5 months ago, because I realized that I don&#8217;t want to pay that much attention to news any more.</p>

<p>It&#8217;s now open source on GitHub <a href="https://github.com/forresty/Hackish">https://github.com/forresty/Hackish</a>.</p>

<p>Mind you, the code sucks. It stinks, it smells. I haven&#8217;t touched a single line of Objective-C after that (except spending half an hour to clean it up last night), but I believe I can now easily write at least 5 times better in less than 1/3 of the time.</p>

<p>But still, since I&#8217;ve seen a lot of pretentious people pretending that they know how to write iOS code, I think what the hell, opening this shit up to the world might not make it a worse place.</p>

<p>If you go read it and think &#8220;LOL, this guy sucks&#8221;, then thank you, you motivate me.</p>

<p>I tried to be humble, but this world seems to ignore humble people.</p>

<p>So I say fuck this shit, I&#8217;d better be hated or laughed at than be ignored.</p>

<p>Come judge me.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/07/sweet-tweets/">sweet tweets</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-07T21:48:00+08:00" pubdate data-updated="true">Dec 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>I hate to break it to you, but your product does not depend on elegance of code. It depends on positioning and marketing. Embrace that. - @holman</p></blockquote>

<p><a href="https://twitter.com/holman/status/277004349333467136">https://twitter.com/holman/status/277004349333467136</a></p>

<blockquote><p>Why are engineer founders are on the rise? Businessmen create that which has worked in the past. Engineers create that which has never been. - @kneath</p></blockquote>

<p><a href="https://twitter.com/kneath/status/273869571360956416">https://twitter.com/kneath/status/273869571360956416</a></p>

<blockquote><p>Internet comments would be great if you could filter them by “Has this user accomplished anything? Anything at all?” - @holman</p></blockquote>

<p><a href="https://twitter.com/holman/status/272800396802670592">https://twitter.com/holman/status/272800396802670592</a></p>

<blockquote><p>$PATH is dependency injection for Unix. It doesn’t need to be complicated. - @sstephenson</p></blockquote>

<p><a href="https://twitter.com/sstephenson/status/270673707389841408">https://twitter.com/sstephenson/status/270673707389841408</a></p>

<blockquote><p>What if you designed a web framework around the error messages displayed to developers? - @kneath</p></blockquote>

<p><a href="https://twitter.com/kneath/status/263062829375041536">https://twitter.com/kneath/status/263062829375041536</a></p>

<p>There are reasons why companies like GitHub and 37signals are awesome.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/07/meditation/">meditation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-07T20:58:00+08:00" pubdate data-updated="true">Dec 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you need meditation in order to clear your mind, that&#8217;s called finding focus / getting into the zone.</p>

<p>If you need meditation because you feel a little bit burnt out, that&#8217;s called resting.</p>

<p>If you need meditation because you don&#8217;t know what to do, that&#8217;s called thinking.</p>

<p>If you have work to do but you think you need to meditate, that&#8217;s called procrastination.</p>

<p>If you fell asleep during meditation, that&#8217;s called sleeping.</p>

<p>Steve Jobs practiced meditation, Elon Musk may have done drugs, super heroes in Ayn Rand&#8217;s books smoke. They might helped, but they are not why those people are successful.</p>

<p>Just stop pretending and start to get things done.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/06/intp/">INTP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-06T14:38:00+08:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Just took another MBTI test, it seems now I am an INTP.</p>

<p>Apparently I&#8217;ve changed a lot since last time (roughly 3~4 years ago) I took the test I was an ENFP. I think it&#8217;s likely that I&#8217;ve had stayed ENFPish till last year or so (while recently I gradually moved from Extraversion to Introversion and Feeling to Thinking).</p>

<p>But I might want myself to be an INTJ, since INTJs are more on the &#8220;doer&#8221; side while INTPs are more on the &#8220;thinker&#8221; side.</p>

<p>So, how can I make myself move towards INTJ?</p>

<p>Maybe keep &#8220;thinking&#8221; how is not the right answer, right? ;)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/04/introducing-dotjs-pow/">Introducing dotjs-pow</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-04T14:06:00+08:00" pubdate data-updated="true">Dec 4<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just released a small piece of code called <a href="https://github.com/forresty/dotjs-pow">dotjs-pow</a> on GitHub, before I tell you what it is, let me tell you a short story first.</p>

<p>You see, recently, I read a lot of books. I bought most of them on <a href="http://amazon.cn">amazon.cn</a> since you know, dead-tree versions of Chinese books are dirt cheap.</p>

<p>And also, there is this Chinese site <a href="http://douban.com">douban.com</a>, which has generally pretty reliable Chinese book ratings and reviews, and you know what, they have some nice APIs too!</p>

<p>Since I find myself constantly switching Safari tabs between pages from amazon.cn and douban.com, I started to think that how can I make this easier.</p>

<p>Initially, I thought about building a Safari extension, but it is not an elegant solution.</p>

<p>Then I found this awesome piece of code called <a href="https://github.com/defunkt/dotjs">dotjs</a> by GitHub CEO(!) Chris Wanstrath (a.k.a. defunkt), basically it lets you run a custom js file located in your <code>~/.js</code> each time you visit a site.</p>

<p>&#8220;Yes!&#8221;, I think, so in a hurry I installed it (albeit I have to install <a href="https://github.com/wfarr/dotjs.safariextension">dotjs.safariextension</a> as well since defunkt was a Chrome guy) and put following code in my <code>~/.js/amazon.cn.js</code> to put it to a test:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span class='line'>    <span class="nx">url</span> <span class="o">:</span> <span class="s1">&#39;http://api.douban.com/book/subjects?alt=json&amp;q=9787533935030&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">type</span> <span class="o">:</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">dataType</span> <span class="o">:</span> <span class="s1">&#39;JSON&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">success</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;yay!&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="nx">failure</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;meh&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>And points my Safari to amazon.cn. As you might have already guessed, I saw this in Safari console:</p>

<p><img src="/images/Access-Control-Allow-Origin.png" alt="Access-Control-Allow-Origin.png" /></p>

<p>Hmm. Typical.</p>

<p>Since I don&#8217;t control either amazon.cn or douban.com, one solution is that I build an API proxy for api.douban.com.</p>

<p>It&#8217;s quite easy to do so using Sinatra and HTTParty:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;sinatra&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;httparty&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">disable</span> <span class="ss">:protection</span>
</span><span class='line'>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;/api/douban/book/isbn/:isbn&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">headers</span> <span class="s1">&#39;Access-Control-Allow-Origin&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;Content-Type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json; charset=utf-8&#39;</span>
</span><span class='line'>
</span><span class='line'>  <span class="no">HTTParty</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://api.douban.com/book/subjects?alt=json&amp;q=</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:isbn</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>But of course I don&#8217;t want to put the proxy on the Internet! So am I going to run yet another service on my localhost? Hmm, I don&#8217;t like ugly hacks.</p>

<p>Then I realized <code>djsd</code> used by dotjs is just a static file server, and since I already have a Rack-compliant <a href="https://github.com/37signals/pow">Pow</a> running on my machine (as many Rubyists do), why not just build a Pow powered dotjs server, which can also be used to bypass cross-site security protections as well?</p>

<p>Thus <a href="https://github.com/forresty/dotjs-pow">dotjs-pow</a> was born.</p>

<p>And with following codes in my <code>~/.js/amazon.cn.js</code>, job&#8217;s done.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\s+|\s+$/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isbnize</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/,.+$/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">trim</span><span class="p">();</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// http://stackoverflow.com/questions/1408289/best-way-to-do-variable-interpolation-in-javascript</span>
</span><span class='line'><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">supplant</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/{([^{}]*)}/g</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">o</span><span class="p">[</span><span class="nx">b</span><span class="p">];</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">r</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">r</span> <span class="o">===</span> <span class="s1">&#39;number&#39;</span> <span class="o">?</span> <span class="nx">r</span> <span class="o">:</span> <span class="nx">a</span><span class="p">;</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;b:contains(&quot;ISBN:&quot;)&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">isbn</span> <span class="o">=</span> <span class="nx">b</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">nextSibling</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">isbnize</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span class='line'>      <span class="nx">url</span> <span class="o">:</span> <span class="s1">&#39;http://dotjs-pow.dev/api/douban/book/isbn/&#39;</span> <span class="o">+</span> <span class="nx">isbn</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">type</span> <span class="o">:</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">dataType</span> <span class="o">:</span> <span class="s1">&#39;JSON&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">success</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">numRaters</span> <span class="o">=</span> <span class="nx">json</span><span class="p">[</span><span class="s1">&#39;entry&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;gd:rating&#39;</span><span class="p">][</span><span class="s1">&#39;@numRaters&#39;</span><span class="p">];</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">rating</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">json</span><span class="p">[</span><span class="s1">&#39;entry&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;gd:rating&#39;</span><span class="p">][</span><span class="s1">&#39;@average&#39;</span><span class="p">]);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">link</span> <span class="o">=</span> <span class="nx">json</span><span class="p">[</span><span class="s1">&#39;entry&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;link&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;@href&#39;</span><span class="p">];</span>
</span><span class='line'>        <span class="c1">// ratings: 7.9 =&gt; 4_0, 8.5 =&gt; 4_5, 8.6 =&gt; 5_0</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">stars_1</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">rating</span> <span class="o">+</span> <span class="mf">1.4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">stars_2</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">rating</span> <span class="o">+</span> <span class="mf">1.4</span><span class="p">)</span> <span class="o">===</span> <span class="nx">stars_1</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">5</span><span class="p">;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;span class=&quot;swSprite s_star_{stars_1}_{stars_2}&quot; title=&quot;{numRaters} ratings&quot;&gt;&lt;/span&gt;&lt;span&gt;(&lt;a href=&quot;{link}&quot;&gt;{rating}&lt;/a&gt;)&lt;/span&gt;&#39;</span><span class="p">.</span><span class="nx">supplant</span><span class="p">({</span>
</span><span class='line'>          <span class="nx">stars_1</span> <span class="o">:</span> <span class="nx">stars_1</span><span class="p">,</span>
</span><span class='line'>          <span class="nx">stars_2</span> <span class="o">:</span> <span class="nx">stars_2</span><span class="p">,</span>
</span><span class='line'>          <span class="nx">numRaters</span> <span class="o">:</span> <span class="nx">numRaters</span><span class="p">,</span>
</span><span class='line'>          <span class="nx">rating</span> <span class="o">:</span> <span class="nx">rating</span><span class="p">,</span>
</span><span class='line'>          <span class="nx">link</span> <span class="o">:</span> <span class="nx">link</span>
</span><span class='line'>        <span class="p">});</span>
</span><span class='line'>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">html</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">$</span><span class="p">(</span><span class="nx">html</span><span class="p">).</span><span class="nx">insertAfter</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#btAsinTitle&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">parentNode</span><span class="p">);</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="nx">failure</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;something was wrong.&#39;</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Check it out in action (please forgive me, I suck at styling web pages&#8230;):</p>

<p><img src="/images/amazon.cn-douban-book-api.png" alt="amazon.cn-douban-book-api.png" /></p>

<p>Oh, of course I have to use <a href="https://github.com/forresty/dotjs-pow.safariextension">a modified version</a> of dotjs.safariextension since I changed the server address from http://localhost:3131 to http://dotjs-pow.dev.</p>

<p>The full source code of app.rb (that is, the dotjs-pow server) is as following:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'>
</span><span class='line'><span class="nb">require</span> <span class="s2">&quot;bundler&quot;</span>
</span><span class='line'><span class="no">Bundler</span><span class="o">.</span><span class="n">require</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># sometimes, it is more fun to do it without protection</span>
</span><span class='line'><span class="n">disable</span> <span class="ss">:protection</span>
</span><span class='line'>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;/js/:js_file&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">headers</span> <span class="s1">&#39;Access-Control-Allow-Origin&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;Content-Type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text/javascript; charset=utf-8&#39;</span>
</span><span class='line'>
</span><span class='line'>  <span class="no">File</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">expand_path</span><span class="p">(</span><span class="s2">&quot;~/.js/</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:js_file</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span> <span class="k">rescue</span> <span class="s2">&quot;{}&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">get</span> <span class="s1">&#39;/api/douban/book/isbn/:isbn&#39;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">headers</span> <span class="s1">&#39;Access-Control-Allow-Origin&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;Content-Type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;application/json; charset=utf-8&#39;</span>
</span><span class='line'>
</span><span class='line'>  <span class="no">HTTParty</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;http://api.douban.com/book/subjects?alt=json&amp;q=</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:isbn</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you are a hopeless nerd like me, you might want to check it out yourself, visit <a href="https://github.com/forresty/dotjs-pow">dotjs-pow on GitHub</a> now.</p>

<p>BTW, <a href="/hire">I am currently available for hire</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/03/prototypal/">Prototypal</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-03T00:59:00+08:00" pubdate data-updated="true">Dec 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So yesterday I decided it&#8217;s time for me to stop procrastinating and start to learn JavaScript seriously.</p>

<p>(Yes, judge me, I am a Ruby guy but I suck at JavaScript!)</p>

<p>So I picked up this wonderful little book named <em>JavaScript: The Good Parts</em> by the JavaScript guru Douglas Crockford and started to read it through in depth (Yes I read it twice before but never in depth). It was an immense amount of fun I must admit.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/12/03/prototypal/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/20/serious/">Serious</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-20T11:16:00+08:00" pubdate data-updated="true">Nov 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Last night, when I was having dinner with my girlfriend at a restaurant, a waiter accidentally dropped a receipt to the floor when passing by our table.</p>

<p>I know this is just a little thing and probably had already happened to you before. But in this case, what would you do?</p>

<p>Well. For me, I picked it up, took a look at it, then gave it back to the waiter then standing behind a counter not far away.</p>

<p>And I thought that was the end of the story.</p>

<p>But one hour later, we found out that my girlfriend had left her cell phone at the restaurant, and apparently someone was trying to reach us in order to return the phone.</p>

<p>I rushed back to the restaurant and found the very same waiter waiting for me, smiling, and gave the phone back to me.</p>

<p>To remind you, this is China, a place where when you&#8217;ve lost something you are not likely to get it back.</p>

<p>I was very happy.</p>

<p>Then I recalled yet another story happened to me one night several weeks ago.</p>

<p>I was taking a walk near my apartment, and all of a sudden an old man tripped and fell onto the floor. I rushed forward without a thought to check on him.</p>

<p>Luckily he was not hurt at all, and a bit surprisingly, he was happy seeing me coming.</p>

<p>Later I remembered helping elder people who accidentally fell in China might cost you a fortune.</p>

<p>Then I thought about a <a href="http://book.douban.com/review/1133203/">review</a> of <a href="http://book.douban.com/subject/4729583/">野火集</a> I read on Douban yesterday, it was the top review on the book on Douban. To quote some of her text:</p>

<p>「既然关心除了关心便没有其他的价值，不会让我快乐，不会让我安详，不会让我感悟，甚至鲜血也已不能带来恐慌，哭泣也已不能带来动容，迫害也已不能带来愤怒，你说，我关心它们还有什么意义？」</p>

<p>「于是我继续关心自己的一切，以及自己以外的一切八卦。」</p>

<p>I want to tell you that you are wrong. It&#8217;s totally okay to be selfish, but it&#8217;s not ok to be aloof.</p>

<p>If you really care about yourself, you will not be satisfied by merely stay away from everything you don&#8217;t like.</p>

<p>Because there is always something small you can do everyday to make this world a better place, and who knows when what you do will come back to you and light up your day.</p>

<p>As time goes by I find myself getting more and more serious about everything. Why so serious, you may ask.</p>

<p>Because I care.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/17/anti-social-at-its-best/">anti-social at its best</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-17T19:52:00+08:00" pubdate data-updated="true">Nov 17<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have a dream.</p>

<p>A wild, seemly unrealistic dream.</p>

<p>For the past few months, though it seemed I was making progress everyday, the dream is still far far away.</p>

<p>So I think I should make plans. Plans and actions make dreams come true, so my dream would become a goal.</p>

<p>I wrote down the goal and its dependencies using the DOT language, then I generated a huge colored tree-like digraph as desktop background with Graphviz.</p>

<p>The parts I&#8217;ve accomplished or achieved are in green color, those I am working on are in light-green, those I should pay more attentions are in pink or red.</p>

<p>Okay now it&#8217;s more like a game.</p>

<p>Next I started to simplify my life aggressively.</p>

<p>I made a list of stuffs I can&#8217;t live without, and started to think how to shorten the list and improve it.</p>

<p>I made and a list of stuffs I really don&#8217;t need, and started to get rid of them.</p>

<p>Okay now everything seems to be in proper order.</p>

<p>I realized just as there is meta-programming, there is meta-living. Knowledge-wise, information on Twitter is the most fragmented and disorganized, so let&#8217;s go meta-level, to blogs, to books, to code-reading, to actually working on the problems.</p>

<p>Okay now I understand things better.</p>

<p>I simplified my daily schedule, I reduced the number of websites I visit everyday, I pay fewer attentions to news, I unfollowed a lot of people.</p>

<p>Okay now I have a peaceful mind.</p>

<p>And now I am happy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/27/nikola-tesla-on-thomas-edison/">Nikola Tesla on Thomas Edison</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-27T16:17:00+08:00" pubdate data-updated="true">Oct 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Remember this famous quote from Thomas Edison describing his timeless efforts on trying to invent the first commercially practical light bulb?</p>

<blockquote><p>&#8220;I have not failed. I&#8217;ve just found 10,000 ways that won&#8217;t work.&#8221;</p></blockquote>

<p>Well, found this on Wikipedia:</p>

<blockquote><p> When Thomas Edison died in 1931, Tesla contributed the only negative opinion to the New York Times, buried in an extensive coverage of Edison&#8217;s life:</p>

<p>He had no hobby, cared for no sort of amusement of any kind and lived in utter disregard of the most elementary rules of hygiene  &#8230; His method was inefficient in the extreme, for an immense ground had to be covered to get anything at all unless blind chance intervened and, at first, I was almost a sorry witness of his doings, knowing that just a little theory and calculation would have saved him 90 percent of the labor. But he had a veritable contempt for book learning and mathematical knowledge, trusting himself entirely to his inventor&#8217;s instinct and practical American sense.</p></blockquote>

<p>Really, I can&#8217;t say which is better, but this particular difference between engineering-types and business-types is very interesting indeed.</p>

<p>Wikipedia links:</p>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Nikola_Tesla">Nikola Tesla</a></li>
<li><a href="http://en.wikipedia.org/wiki/History_of_the_light_bulb#History_of_the_light_bulb">History of the light bulb</a></li>
<li><a href="http://en.wikipedia.org/wiki/Thomas_Edison">Thomas Edison</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/25/sociopath/">Sociopath</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-25T17:14:00+08:00" pubdate data-updated="true">Oct 25<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Just saw this on quora:</p>

<p><a href="http://www.quora.com/Ayn-Rand/Why-do-so-many-engineering-types-with-poor-social-skills-think-Ayn-Rand-is-great">http://www.quora.com/Ayn-Rand/Why-do-so-many-engineering-types-with-poor-social-skills-think-Ayn-Rand-is-great</a></p>

<p>It certainly makes these <strong>people people</strong> feel good by denouncing us sociopaths.</p>

<p>Well, I <strong>love</strong> <em>Atlas Shrugged</em> and <em>The Fountainhead</em>, though I don&#8217;t quite like her, thus the title of the question doesn&#8217;t really apply to me. It&#8217;s just seeing the very wording of this question and the top answer reminds me how much I don&#8217;t like most people.</p>

<p>I am a sociopath, and I am quite comfortable with it.</p>

<p>I really wish I can block topics such as <strong>People Skills</strong> on Quora.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Forrest Ye -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
